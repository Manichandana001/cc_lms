<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Self Attendance - LMS</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/colors/theme.css" />
    <script src="js/plugins/jquery-3.6.0.min.js"></script>
    <script src="js/main.js" defer></script>
</head>
<body>
    <div class="sidebar">
        <div class="logo">edunet <span>foundation</span></div>
        <ul class="menu">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="project-selection.html">Project Selection</a></li>
            <li><a href="offer-letter.html">Offer Letter</a></li>
            <li><a href="download-certificate.html">Download Certificate</a></li>
            <li><a href="report-template.html">Report Template</a></li>
            <li><a href="self-attendance.html" class="active">Self Attendance</a></li>
            <li><a href="study-material.html">Study Material</a></li>
            <li><a href="assessment.html">Assessment</a></li>
            <li><a href="session-recording.html">Session Recording</a></li>
            <li><a href="placement-readiness.html">Placement Readiness</a></li>
            <li><a href="run-my-code.html">Run My Code</a></li>
            <li><a href="queries.html">Queries</a></li>
        </ul>
    </div>

    <div class="main-content">
        <header>
            <h1>Self Attendance</h1>
        </header>
        <div class="content">
            <table id="attendanceTable" border="1" cellpadding="10" cellspacing="0" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Attendance records will be added here -->
                </tbody>
            </table>
            <br />
            <button id="markPresentBtn" style="padding: 10px 20px; background-color: #655DFE; color: white; border: none; border-radius: 4px; cursor: pointer;">Mark Me Present</button>
            <p id="message" style="margin-top: 15px; font-weight: bold;"></p>
            <script>
                document.getElementById('markPresentBtn').addEventListener('click', function() {
                    const today = new Date().toISOString().split('T')[0];
                    const tableBody = document.getElementById('attendanceTable').getElementsByTagName('tbody')[0];
                    const rows = tableBody.getElementsByTagName('tr');
                    let alreadyMarked = false;
                    for (let i = 0; i < rows.length; i++) {
                        if (rows[i].cells[0].textContent === today) {
                            alreadyMarked = true;
                            break;
                        }
                    }
                    const messageEl = document.getElementById('message');
                    if (alreadyMarked) {
                        messageEl.textContent = 'You have already marked present for today.';
                        messageEl.style.color = 'red';
                    } else {
                        const newRow = tableBody.insertRow();
                        const dateCell = newRow.insertCell(0);
                        const statusCell = newRow.insertCell(1);
                        dateCell.textContent = today;
                        statusCell.textContent = 'Present';
                        messageEl.textContent = 'Attendance marked for today.';
                        messageEl.style.color = 'green';
                    }
                });
            </script>
        </div>
    </div>
</body>
</html>
